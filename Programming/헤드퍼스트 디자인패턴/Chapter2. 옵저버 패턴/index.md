### 옵저버 패턴 (기상 모니터링 어플리케이션)

- 옵저버 패턴이란?

  - 신문사(subject) + 구독자(observer) = 옵저버 패턴
  - 한 객체(subject)의 상태가 바뀌면 그 객체(subject)의 의존하는 다른 객체(observer)에게 연락이 가고자동으로 내용이 갱신되는 방식으로 일대다(one-to-many)의존성을 정의한다.
  - Publish-Subscribe 패턴과는 친척이지만 다르다.

- 옵저버 패턴 이해하기
  1. 신문사가 사업을 시작하고 신문을 찍어낸다.
  2. 독자가 특정 신문사에 구독을 하면 매번 새로운 신문이 나올 때마다 구독자에게 신문을 발행한다.
  3. 신문을 더 이상 보고 싶지 않으면 구독을 해지한다. 그럼 더이상 새로운 발행을 받지 않는다.
  4. 신문사가 망하지 않는 이상 꾸준하게 신문을 구독하고 해지할 수 있다.

#### 느슨한 결합 (Loose Coupling)

- 느슨한 결합이란 객체들이 상호작용할 수는 있지만, 서로를 잘 모르는 관계를 의미한다.
- 느슨한 결합을 활용하면 객체들간의 유연성이 좋아진다.
- 옵저버 패턴이 이러한 느슨한 결합의 예이다.
  - subject는 observer 인터페이스를 구현하는 객체의 목록만 의존하기때문에 observer가 무엇을하는 객체인지까지는 알필요가 없다.

#### 옵저버 패턴의 subject에서 observer로 state를 알리는 방식을 push에서 pull로 변경하자.

- subject에서 observer로 state를 전달할때 update() 메소드에 매개변수로 subject의 데이터 모델을 전부다 넘겨서 업데이트 하였다.
- 하지만 pull방식으로 변경하면 observer에서 필요한 데이터만 subject에게 끌어다 쓸 수 있다.
- 이렇게 함으로써 update 메소드를 더 유연하고 확장성 있게 사용할 수 있다. (데이터 모델이 변경되면 모든 observer의 update를 변경해야함..)

#### 실습 예제

- WeatherData 객체(View-Model)

  1. 물리 기상 스테이션과 통신하여 갱신된 기상 데이터를 가져온다.
  2. 갱신된 기상 데이터를 디스플레이에 업데이트 한다.

- 기상 스테이션(Model)

  - 습도 센서, 온도 센서, 기압 센서 등.. 날씨정보를 제공해준다. (Api)

- 디스플레이 장비(View)

  - 현재 조건, 기상 통계, 가상 예보 중에서 원하는 내용을 선택해서 표시할 수 있다.
