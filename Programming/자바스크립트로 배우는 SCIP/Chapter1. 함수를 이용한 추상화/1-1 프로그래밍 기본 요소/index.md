### 함수를 이용한 추상화

- 단순관념에 그 힘을 행사하는 지성의 행위는 주로 다음 3가지이다.
  1. 다수의 단순 관념을 하나의 복합 관념으로 조합한다. 복잡한 관념은 모두 이런식으로 이루어진다.
     (복잡하지 않은 순수함수 여러개를 조합해 복잡한 관념을 만든다.)
  2. 두 관념(단순 관념이든 복합 관념이든)을 가져와 또 다른 관념으로 설정함으로써 둘을 하나의 관념으로 통합하지 않고도 두관념을 한번에 볼 수 있게 만든다.
  3. 하나의 관념을 실제 존재에 수반하는 다른 모든 관념으로부터 분리하는 것.
     ( 무엇인가 여러 관념의 공통적인 요소를 분리하여 하나의 관념으로 묶어 추상화 함. (삼각형과 사각형이 있으면 도형이라는 관념으로 분리하여 추상화) )

#### 프로그래밍의 기본 요소

- 메커니즘

  - 원시 표현식(primitive expression): 언어와 관련된 가장 단순한 개체.
  - 조합(combination) 수단: 단순한 요소들로부터 복합적인 요소를 만드는데 쓰임.
  - 추상화(abstraction) 수단: 복합적인 요소들에 이름을 붙여서 하나의 단위로 다루는 데 쓰임.

- 인수 우선 평가 vs 정상 순서 평가 (중요!!!!)

  - 자바스크립트 언어는 인수 우선 평가 이다.

  ```javascript
  ///////////// 전개
  sum_of_squares(5 + 1, 5 * 2);
  square(5 + 1) + square(5 + 2);
  (5 + 1) * (5 + 1) + (5 + 2) * (5 + 2);

  ///////////// 축약
  6 * 6 + 10 * 10;
  36 + 100;
  136;
  ```

  - 정상 순서 평가(표준 순서 평가)

    - 먼저 완전히 전개한 후 축약 하는 평가 방법

  - 인수 우선 평가(적용적 순서 평가)

    - 먼저 인수들을 평가 한 후에 적용하는 방법

  ```javascript
  function sum(x, y) {
    return x + y;
  }
  sum(2 + 3, 4 * 5);

  // 정상 순서 평가
  2 + 3 + 4 * 5;

  // 인수 우선 평가 (호출할 시 인수가 이미 계산이되서 인자로 전달)
  sum(5, 20);
  5 + 20;
  ```

#### 블랙박스 추상으로서의 함수

- 함수는 세부사항을 숨길 수 있어야하고, 사용자는 함수의 내부가 어떻게 구현되었는지에 대해 관심이 없고,
  그것을 몰라도 함수를 잘 사용할 수 있어야한다.
- 뉴턴예제(1.1.7)에서 is_good_enough함수내에서 square함수는 "블랙박스"로 취급할 수 있다.
  (is_good_enough함수 관점에서는 square가 어떻게 계산해서 결과를 반환하는지 알 필요가 없다.)

```javascript
// 1번째
function square(x) {
  return x * x;
}

/** 2번째 */
function square2(x) {
  return math_exp(double(math_log(x)));
}
function double(x) {
  return x + x;
}
```

- 추상 관점에서 위의 두 square는 제곱을 계산해서 돌려주기만 한다면 내부로직이 어떻더라도 상관없다.

#### 지역 이름

- 당연한 얘기였다. 함수 내에서 사용하는 지역변수는 그 함수내에 바인딩되었다고한다.
- 함수 밖에서 사용하는 즉, 함수 밖에서 공통적으로 사용되는 변수는 자유롭다 라고 말한다.

#### 내부선언과 블록구조

- 큰 모듈을 개발하다보면 is_good_enough와 같은 함수명을 똑같이 작성해서 함수를 덮어씌워버릴수 있다.(capturing)
  이러한 문제를 방지하기위해서 그함수내에 중첩함수 구조(블록구조)로 내부선언을 한다.
- 사실 잘 모르겟다. 어떤곳에서는 중첩함수가 별로라고하고 여기서는 또 중첩함수를 좋다고하고있으니.....
